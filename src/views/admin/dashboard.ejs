<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Ark Stream</title>
    <link rel="icon" type="image/png" href="/static/assets/indir.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/datatables.net-bs5/1.13.6/dataTables.bootstrap5.min.css"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.7.0/sweetalert2.min.css" rel="stylesheet">

    <link href="/static/assets/css/admin-styles.css" rel="stylesheet">
</head>

<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="admin-logo">
                <i class="fas fa-shield-alt"></i>
                <h1>Ark Stream Admin</h1>
            </div>
            <div class="admin-nav">
                <span class="user-info">
                    <i class="fas fa-user-circle"></i>
                    Ho≈ü geldin, <%= user ? user.username : 'Admin' %>!
                </span>
                <a href="/admin/logout" class="nav-btn btn-danger">
                    <i class="fas fa-sign-out-alt"></i>
                    √áƒ±kƒ±≈ü
                </a>
            </div>
        </header>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Sidebar -->
            <aside class="admin-sidebar">
                <ul class="sidebar-menu">
                    <li>
                        <a href="#" data-section="users" class="menu-item active">
                            <i class="fas fa-users"></i>
                            Kullanƒ±cƒ±lar
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="categories" class="menu-item">
                            <i class="fas fa-tags"></i>
                            Kategoriler
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="cameras" class="menu-item">
                            <i class="fas fa-video"></i>
                            Kameralar
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="streams" class="menu-item">
                            <i class="fas fa-broadcast-tower"></i>
                            Yayƒ±nlar
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="settings" class="menu-item">
                            <i class="fas fa-cogs"></i>
                            Ayarlar
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="logs" class="menu-item">
                            <i class="fas fa-clipboard-list"></i>
                            Loglar
                        </a>
                    </li>
                </ul>
            </aside>

            <!-- Content Area -->
            <section class="admin-content">
                <!-- Loading -->
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Y√ºkleniyor...</p>
                </div>

                <!-- Users Section -->
                <div id="users-section" class="content-section">
                    <div class="content-header">
                        <h2 class="content-title">
                            <i class="fas fa-users"></i>
                            Kullanƒ±cƒ± Y√∂netimi
                        </h2>
                        <button class="btn-modern btn-primary-modern" id="addUserBtn">
                            <i class="fas fa-plus"></i>
                            Yeni Kullanƒ±cƒ±
                        </button>
                    </div>

                    <div class="table-responsive">
                        <table id="usersTable" class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Kullanƒ±cƒ± Adƒ±</th>
                                    <th>Email</th>
                                    <th>Rol</th>
                                    <th>Durum</th>
                                    <th>Son Giri≈ü</th>
                                    <th>Olu≈üturulma</th>
                                    <th>ƒ∞≈ülemler</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Categories Section -->
                <div id="categories-section" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <i class="fas fa-tags"></i>
                            Kategori Y√∂netimi
                        </h2>
                        <button class="btn-modern btn-primary-modern" id="addCategoryBtn">
                            <i class="fas fa-plus"></i>
                            Yeni Kategori
                        </button>
                    </div>

                    <div class="table-responsive">
                        <table id="categoriesTable" class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Kategori Adƒ±</th>
                                    <th>Renk</th>
                                    <th>ƒ∞kon</th>
                                    <th>Sƒ±ralama</th>
                                    <th>Yayƒ±n Sayƒ±sƒ±</th>
                                    <th>Durum</th>
                                    <th>Olu≈üturulma</th>
                                    <th>ƒ∞≈ülemler</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Cameras Section -->
                <div id="cameras-section" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <i class="fas fa-video"></i>
                            Kamera Y√∂netimi
                        </h2>
                        <button class="btn-modern btn-primary-modern" id="addCameraBtn">
                            <i class="fas fa-plus"></i>
                            Yeni Kamera
                        </button>
                    </div>

                    <div class="table-responsive">
                        <table id="camerasTable" class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Kamera Adƒ±</th>
                                    <th>Marka</th>
                                    <th>Model</th>
                                    <th>Durum</th>
                                    <th>Yayƒ±n Sayƒ±sƒ±</th>
                                    <th>Olu≈üturulma</th>
                                    <th>ƒ∞≈ülemler</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Streams Section -->
                <div id="streams-section" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <i class="fas fa-broadcast-tower"></i>
                            Yayƒ±n Y√∂netimi
                        </h2>
                        <button class="btn-modern btn-primary-modern" id="addStreamBtn">
                            <i class="fas fa-plus"></i>
                            Yeni Yayƒ±n
                        </button>
                    </div>

                    <div class="table-responsive">
                        <table id="streamsTable" class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Yayƒ±n Adƒ±</th>
                                    <th>Kamera</th>
                                    <th>Kategoriler</th>
                                    <th>IP Adresi</th>
                                    <th>Durum</th>
                                    <th>√á√∂z√ºn√ºrl√ºk</th>
                                    <th>FPS</th>
                                    <th>Son Ba≈ülatma</th>
                                    <th>ƒ∞≈ülemler</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settings-section" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <i class="fas fa-cogs"></i>
                            Ayarlar
                        </h2>
                    </div>

                    <!-- Settings Navigation -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <ul class="nav nav-tabs" id="settingsTab" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="slider-tab" data-bs-toggle="tab"
                                        data-bs-target="#slider-pane" type="button">
                                        <i class="fas fa-images"></i> Slider Y√∂netimi
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="general-tab" data-bs-toggle="tab"
                                        data-bs-target="#general-pane" type="button">
                                        <i class="fas fa-cog"></i> Genel Ayarlar
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="tab-content" id="settingsTabContent">
                        <!-- Slider Management Tab -->
                        <div class="tab-pane fade show active" id="slider-pane">
                            <!-- Slider Stats -->
                            <div class="slider-stats" id="sliderStats">
                                <div class="stat-card">
                                    <h3 id="totalImages">0</h3>
                                    <p>Toplam Resim</p>
                                </div>
                                <div class="stat-card">
                                    <h3 id="totalSize">0 MB</h3>
                                    <p>Toplam Boyut</p>
                                </div>
                                <div class="stat-card">
                                    <h3 id="averageSize">0 KB</h3>
                                    <p>Ortalama Boyut</p>
                                </div>
                            </div>

                            <!-- Upload Zone -->
                            <div class="upload-zone" id="uploadZone">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h4>Resim Y√ºkle</h4>
                                <p>Dosyalarƒ± buraya s√ºr√ºkleyin veya tƒ±klayarak se√ßin</p>
                                <p><small>JPEG, PNG, WEBP formatlarƒ± desteklenir. Maksimum 10MB</small></p>
                                <input type="file" id="imageUpload" accept="image/*" multiple style="display: none;">

                                <div class="upload-progress">
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                    </div>
                                    <small class="text-muted" id="uploadStatus">Y√ºkleniyor...</small>
                                </div>
                            </div>

                            <!-- Slider Images Grid -->
                            <div id="sliderContainer">
                                <div class="slider-grid" id="sliderGrid">
                                    <!-- Slider items will be loaded here -->
                                </div>

                                <div class="empty-slider" id="emptySlider" style="display: none;">
                                    <i class="fas fa-images"></i>
                                    <h4>Hen√ºz slider resmi yok</h4>
                                    <p>Yukarƒ±daki alana resim y√ºkleyerek ba≈ülayƒ±n</p>
                                </div>
                            </div>
                        </div>

                        <!-- General Settings Tab -->
                        <div class="tab-pane fade" id="general-pane">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                Diƒüer ayarlar mod√ºlleri yakƒ±nda eklenecek...
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs Section -->
                <div id="logs-section" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <i class="fas fa-clipboard-list"></i>
                            Sistem Loglarƒ±
                        </h2>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        Log mod√ºl√º yakƒ±nda eklenecek...
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- User Modal -->
    <div class="modal fade" id="userModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userModalTitle">Kullanƒ±cƒ± Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="userForm">
                        <input type="hidden" id="userId" name="userId">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="username" class="form-label">Kullanƒ±cƒ± Adƒ±</label>
                                <input type="text" class="form-control" id="username" name="username" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="password" class="form-label">≈ûifre</label>
                                <input type="password" class="form-control" id="password" name="password">
                                <small class="form-text text-muted" id="passwordHelpText">G√ºncelleme sƒ±rasƒ±nda bo≈ü
                                    bƒ±rakabilirsiniz</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="role" class="form-label">Rol</label>
                                <select class="form-select" id="role" name="role" required>
                                    <option value="viewer">Viewer</option>
                                    <option value="user">User</option>
                                    <option value="admin">Admin</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="is_active" name="is_active" checked>
                                <label class="form-check-label" for="is_active">
                                    Aktif
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞ptal</button>
                    <button type="button" class="btn btn-primary" id="saveUserBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Category Modal -->
    <div class="modal fade" id="categoryModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="categoryModalTitle">Kategori Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryForm">
                        <input type="hidden" id="categoryId" name="categoryId">
                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label for="category_name" class="form-label">Kategori Adƒ±</label>
                                <input type="text" class="form-control" id="category_name" name="name" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="category_sort_order" class="form-label">Sƒ±ralama</label>
                                <input type="number" class="form-control" id="category_sort_order" name="sort_order"
                                    value="0" min="0">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="category_color" class="form-label">Renk</label>
                                <div class="input-group">
                                    <input type="color" class="form-control form-control-color" id="category_color"
                                        name="color" value="#007bff">
                                    <input type="text" class="form-control" id="category_color_text"
                                        placeholder="#007bff">
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="category_icon" class="form-label">ƒ∞kon</label>
                                <select class="form-select" id="category_icon" name="icon">
                                    <option value="camera">üì∑ Kamera</option>
                                    <option value="video">üé• Video</option>
                                    <option value="broadcast">üì° Yayƒ±n</option>
                                    <option value="security">üîí G√ºvenlik</option>
                                    <option value="outdoor">üå≥ Dƒ±≈ü Mekan</option>
                                    <option value="indoor">üè† ƒ∞√ß Mekan</option>
                                    <option value="traffic">üöó Trafik</option>
                                    <option value="office">üè¢ Ofis</option>
                                    <option value="home">üè° Ev</option>
                                    <option value="public">üèõÔ∏è Kamu</option>
                                    <option value="sport">‚öΩ Spor</option>
                                    <option value="event">üé™ Etkinlik</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="category_description" class="form-label">A√ßƒ±klama</label>
                            <textarea class="form-control" id="category_description" name="description"
                                rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="category_active" name="is_active"
                                    checked>
                                <label class="form-check-label" for="category_active">
                                    Aktif
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞ptal</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Camera Modal -->
    <div class="modal fade" id="cameraModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cameraModalTitle">Kamera Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="cameraForm">
                        <input type="hidden" id="cameraId" name="cameraId">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="camera_name" class="form-label">Kamera Adƒ±</label>
                                <input type="text" class="form-control" id="camera_name" name="name" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="camera_brand" class="form-label">Marka</label>
                                <select class="form-select" id="camera_brand" name="brand" required>
                                    <option value="">Marka Se√ßin</option>
                                    <option value="Dahua">Dahua</option>
                                    <option value="Hikvision">Hikvision</option>
                                    <option value="Samsung">Samsung</option>
                                    <option value="Axis">Axis</option>
                                    <option value="Bosch">Bosch</option>
                                    <option value="Other">Diƒüer</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="camera_model" class="form-label">Model</label>
                                <input type="text" class="form-control" id="camera_model" name="model" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="camera_description" class="form-label">A√ßƒ±klama</label>
                            <textarea class="form-control" id="camera_description" name="description"
                                rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="camera_active" name="is_active"
                                    checked>
                                <label class="form-check-label" for="camera_active">
                                    Aktif
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞ptal</button>
                    <button type="button" class="btn btn-primary" id="saveCameraBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Stream Modal -->
    <div class="modal fade" id="streamModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="streamModalTitle">Yayƒ±n Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="streamForm">
                        <input type="hidden" id="streamId" name="streamId">

                        <!-- Basic Information -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">Temel Bilgiler</h6>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="stream_name" class="form-label">Yayƒ±n Adƒ±</label>
                                <input type="text" class="form-control" id="stream_name" name="stream_name" required
                                    pattern="[a-zA-Z0-9_-]+" title="Sadece harf, rakam, - ve _ karakterleri kullanƒ±n">
                                <small class="form-text text-muted">Sadece harf, rakam, - ve _ kullanƒ±n</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="stream_camera" class="form-label">Kamera</label>
                                <select class="form-select" id="stream_camera" name="camera_id" required>
                                    <option value="">Kamera Se√ßin</option>
                                </select>
                            </div>
                        </div>

                        <!-- Categories Selection -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">Kategoriler</h6>
                                <p class="text-muted">Bu yayƒ±nƒ±n dahil olacaƒüƒ± kategorileri se√ßin (birden fazla
                                    se√ßilebilir)</p>
                                <div id="categoriesContainer" class="category-selector">
                                    <!-- Categories will be loaded here -->
                                </div>
                            </div>
                        </div>

                        <!-- Network Settings -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">Baƒülantƒ± Ayarlarƒ±</h6>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="stream_ip" class="form-label">IP Adresi</label>
                                <input type="text" class="form-control" id="stream_ip" name="ip_address"
                                    placeholder="192.168.1.100" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="stream_port" class="form-label">RTSP Port</label>
                                <input type="number" class="form-control" id="stream_port" name="rtsp_port" value="554"
                                    min="1" max="65535" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="stream_channel" class="form-label">Kanal</label>
                                <input type="number" class="form-control" id="stream_channel" name="channel" value="1"
                                    min="1" max="16">
                            </div>
                        </div>

                        <!-- Authentication -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">Kimlik Doƒürulama</h6>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="stream_username" class="form-label">Kullanƒ±cƒ± Adƒ±</label>
                                <input type="text" class="form-control" id="stream_username" name="username" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="stream_password" class="form-label">≈ûifre</label>
                                <input type="password" class="form-control" id="stream_password" name="password"
                                    required>
                                <small class="form-text text-muted" id="streamPasswordHelpText">G√ºncelleme sƒ±rasƒ±nda bo≈ü
                                    bƒ±rakabilirsiniz</small>
                            </div>
                        </div>

                        <!-- Stream Settings -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">Yayƒ±n Ayarlarƒ±</h6>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="stream_resolution" class="form-label">√á√∂z√ºn√ºrl√ºk</label>
                                <select class="form-select" id="stream_resolution" name="resolution">
                                    <option value="640x480">640x480 (SD)</option>
                                    <option value="1280x720">1280x720 (HD)</option>
                                    <option value="1920x1080">1920x1080 (Full HD)</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="stream_fps" class="form-label">FPS</label>
                                <select class="form-select" id="stream_fps" name="fps">
                                    <option value="30">30 FPS</option>
                                    <option value="25">25 FPS</option>
                                    <option value="15">15 FPS</option>
                                    <option value="10">10 FPS</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="stream_bitrate" class="form-label">Video Bitrate</label>
                                <select class="form-select" id="stream_bitrate" name="bitrate">
                                    <option value="500k">500k</option>
                                    <option value="800k">800k</option>
                                    <option value="1200k">1200k</option>
                                    <option value="2000k">2000k</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="stream_audio_bitrate" class="form-label">Audio Bitrate</label>
                                <select class="form-select" id="stream_audio_bitrate" name="audio_bitrate">
                                    <option value="128k">128k</option>
                                    <option value="160k">160k</option>
                                    <option value="192k">192k</option>
                                </select>
                            </div>
                        </div>

                        <!-- Checkboxes -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="stream_active" name="is_active"
                                        checked>
                                    <label class="form-check-label" for="stream_active">
                                        Aktif
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="stream_recording"
                                        name="is_recording">
                                    <label class="form-check-label" for="stream_recording">
                                        Kayƒ±t Aktif
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞ptal</button>
                    <button type="button" class="btn btn-primary" id="saveStreamBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Stream Categories Modal -->
    <div class="modal fade" id="streamCategoriesModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="streamCategoriesModalTitle">Kategori Y√∂netimi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="manageStreamId">
                    <p class="mb-3">Bu yayƒ±nƒ±n dahil olacaƒüƒ± kategorileri se√ßin:</p>
                    <div id="streamCategoriesContainer" class="category-selector">
                        <!-- Categories will be loaded here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞ptal</button>
                    <button type="button" class="btn btn-primary" id="saveStreamCategoriesBtn">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div class="modal fade" id="changePasswordModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">≈ûifre Deƒüi≈ütir</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="changePasswordForm">
                        <input type="hidden" id="changePasswordUserId" name="userId">
                        <div class="mb-3">
                            <label for="newPassword" class="form-label">Yeni ≈ûifre</label>
                            <input type="password" class="form-control" id="newPassword" name="newPassword" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">≈ûifre Tekrar</label>
                            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                                required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞ptal</button>
                    <button type="button" class="btn btn-warning" id="savePasswordBtn">≈ûifre Deƒüi≈ütir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables.net/1.13.6/jquery.dataTables.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/datatables.net-bs5/1.13.6/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.7.0/sweetalert2.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <script src="/static/assets/js/admin-script.js"></script>
</body>

</html>